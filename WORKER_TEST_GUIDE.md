# Worker??????

## ???????????

### 1. ?????????
```
http://localhost:8080
```

### 2. ?????????
- F12?????
- ?Console??????

### 3. ??????????

#### ?????????
?????????????????????

```javascript
// Worker?????????
testWorkerUpload()
```

???Worker??????????????

### 4. UI??????

1. `/files`??????
2. ???????
3. ?Upload?????????
4. ???????????????

#### ???????

```
[getApiConfig] Final API_BASE_URL: http://localhost:8080
[useFileUpload] API_BASE_URL: http://localhost:8080 window.location.origin: http://localhost:8080
[useFileUpload] useWorker: true workerManager.isAvailable(): true
Main thread: Uploading task task-xxx with apiBaseUrl: http://localhost:8080 authToken: ***
[WorkerManager] Sending upload task with apiBaseUrl: http://localhost:8080
Worker: apiBaseUrl = http://localhost:8080 type: string
Worker: Constructed uploadUrl = http://localhost:8080/api/upload-file
```

### 5. ??????????

????????????

- `Failed to parse URL from /api/upload-file`
  - ? `apiBaseUrl`????????????
  - ? `window.location.origin`????????????

- `Cannot determine API base URL`
  - ? `window.location`?????????
  - ? Worker????????????????

## ???????????

### Worker????????

1. **????????**:
   ```javascript
   // Worker??????
   console.log('Worker available:', window.workerManager?.isAvailable());
   ```

2. **Worker?????????**:
   - `useFileUpload`??2???`{ useWorker: false }`???
   - ????Worker??????????????????????????

3. **??API???**:
   ```javascript
   fetch('http://localhost:8080/api/upload-file', {
     method: 'POST',
     headers: { 'Authorization': 'my-secret-token' },
     body: formData
   })
   ```

## ????????????

????????????????????????

1. **Playwright**?**Selenium**????E2E???
2. **Jest** + **@testing-library/react**????????????
3. **Cypress**???????

??????????????????????????
