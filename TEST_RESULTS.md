# ????????

## ????
2025-11-01

## ?????
- Docker Compose???
- ???????????

## ?????

### ? ??????
- **Webapp???**: ??
  - TypeScript?????: ??
  - React???: ??
  - Go???: ?? (go mod tidy?)

### ? ?????
- **Webapp**: ???? (HTTP 200)
  - ????URL: http://localhost:8080
  - HTML?????: ?????

### ? API???
- **??????????**: ??
  ```bash
  curl -X POST "http://localhost:8080/api/upload-file" \
    -H "Authorization: my-secret-token" \
    -F "uploadFile=@test-upload.txt" \
    -F "storageProvider=s3"
  ```
  - ?????: `{"success":true,"filename":"test-upload.txt",...}`
  
- **?????????**: ??
  ```bash
  curl "http://localhost:8080/api/list-files?storageProvider=s3" \
    -H "Authorization: my-secret-token"
  ```
  - ?????: ?????????????

### ? ????

#### ??1: ???????????
- [x] ??????????
- [x] ????&??????
- [x] ???????????
- [x] ??????????

#### ??2: ????????????????
- [x] UploadQueueContext??
- [x] useUploadQueue Hook??
- [x] UploadQueueView ?????????
- [x] ??????? (pending/uploading/success/error/cancelled)
- [x] ????
- [x] ???????

#### ??3: Web Worker??
- [x] Worker??? (upload-worker.types.ts)
- [x] Worker????? (uploadWorkerManager.ts)
- [x] useFileUpload????Worker??
- [x] ????????? (Worker??????????)

## ????

### Dockerfile.webapp
- `go mod tidy`??????????????
- ?????????????

### upload-worker.ts
- TypeScript???????
- ???Worker????uploadWorkerManager.ts???????????????

## ??????

1. **??????**
   ```bash
   docker-compose up -d localstack fake-gcs azurite pubsub-emulator
   docker-compose up -d server
   docker-compose up -d webapp
   ```

2. **?????????**
   - URL: http://localhost:8080
   - `/files`?????????????????????

3. **API?????**
   ```bash
   # ??????????
   curl -X POST "http://localhost:8080/api/upload-file" \
     -H "Authorization: my-secret-token" \
     -F "uploadFile=@<file>" \
     -F "storageProvider=s3"
   
   # ?????????
   curl "http://localhost:8080/api/list-files?storageProvider=s3" \
     -H "Authorization: my-secret-token"
   ```

## ?????????????

1. **Web Worker?????**
   - ????????????Worker??????
   - ?????????UI??????

2. **????????**
   - ??????????????????

3. **?????????**
   - ???????????????
   - ????????????????

## ????

- Web Worker?Blob URL???????????
- Worker??????????????????????????????
- ?????????????????????????????
