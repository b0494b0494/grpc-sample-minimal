# ??????????

## ?????

### ? ????
1. `OCRResult`?`StorageProvider`??????????
2. `LogError`?????????
3. go-fitz??????????v1.24.15?
4. Dockerfile??????????????

### ?? ???????
**proto????????/?????**
- `proto/greeter_grpc.pb.go`?`ProcessOCR`???????
- `proto/greeter.pb.go`?`OCRRequest`????

## ????

### ??1: Docker??????proto????????

```bash
cd /home/b0949/develop/grpc-sample-minimal

# Docker??????proto???????
docker run --rm -v "$(pwd):/work" -w /work golang:1.25-alpine \
  sh -c "
    apk add --no-cache protobuf-dev git && \
    go install google.golang.org/protobuf/cmd/protoc-gen-go@latest && \
    go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest && \
    protoc --go_out=. --go-grpc_out=. proto/greeter.proto && \
    ls -la proto/*.pb.go
  "
```

### ??2: Dockerfile??????

Dockerfile??proto????????????????????????????????????????

**??????:**
- proto???????????????????????????????
- `proto/greeter.pb.go`?`proto/greeter_grpc.pb.go`????

### ??3: ???proto?????????

?????????proto??????????OCR???????????:

```bash
# proto/greeter.pb.go?OCRRequest????
grep -A 5 "type OCRRequest" proto/greeter.pb.go

# proto/greeter_grpc.pb.go?ProcessOCR????
grep -A 5 "ProcessOCR" proto/greeter_grpc.pb.go
```

## ??????

1. ??1?????proto????????
2. ????????????
3. ???????

## ????

- proto????????????????????????????????????
- ???????????????????????